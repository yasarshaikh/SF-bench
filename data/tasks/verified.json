[
  {
    "instance_id": "apex-trigger-handler-001",
    "task_type": "APEX",
    "repo_url": "https://github.com/trailheadapps/apex-recipes",
    "base_commit": "main",
    "problem_description": "The AccountTriggerHandler class in force-app/main/default/classes/Trigger Recipes/ has a potential NullPointerException when Account.Owner is null. Implement proper null-safety checks in the handler methods without breaking existing test coverage. The solution must handle null Owner references gracefully and maintain all existing trigger functionality.",
    "validation": {
      "command": "sf apex run test --class-names AccountTriggerHandlerTests --result-format json",
      "expected_outcome": "Passed",
      "code_checks": [
        "null_check_required",
        "no_hardcoded_ids",
        "maintains_test_coverage"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "medium",
      "category": "apex",
      "subcategory": "trigger-handling",
      "verified_repo": true,
      "repo_stars": 1059,
      "file_path": "force-app/main/default/classes/Trigger Recipes/AccountTriggerHandler.cls"
    }
  },
  {
    "instance_id": "apex-integration-001",
    "task_type": "APEX",
    "repo_url": "https://github.com/trailheadapps/apex-recipes",
    "base_commit": "main",
    "problem_description": "Review and fix the REST callout implementation in the Integration Recipes folder. The current implementation lacks proper error handling for HTTP 4xx/5xx responses and timeout scenarios. Implement retry logic with exponential backoff for transient failures. Ensure proper exception handling and logging without exposing sensitive data.",
    "validation": {
      "command": "sf apex run test --class-names RestClientTests --result-format json",
      "expected_outcome": "Passed",
      "code_checks": [
        "error_handling_required",
        "retry_logic_implemented",
        "no_sensitive_data_exposed"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "hard",
      "category": "apex",
      "subcategory": "integration",
      "verified_repo": true,
      "repo_stars": 1059,
      "file_path": "force-app/main/default/classes/Integration Recipes/"
    }
  },
  {
    "instance_id": "lwc-component-001",
    "task_type": "LWC",
    "repo_url": "https://github.com/trailheadapps/lwc-recipes",
    "base_commit": "main",
    "problem_description": "The apexImperativeMethod LWC component has an issue where error states are not properly displayed to the user when the Apex call fails. Update the component to: 1) Display user-friendly error messages, 2) Handle network timeouts gracefully, 3) Add loading state indicator during the Apex call. All existing Jest tests must continue to pass.",
    "validation": {
      "command": "npm run test:unit -- --testPathPattern=apexImperativeMethod",
      "expected_outcome": "0",
      "code_checks": [
        "error_handling_ui",
        "loading_state",
        "jest_tests_pass"
      ]
    },
    "timeouts": {
      "setup": 300,
      "run": 180
    },
    "metadata": {
      "difficulty": "medium",
      "category": "lwc",
      "subcategory": "apex-integration",
      "verified_repo": true,
      "repo_stars": 2805,
      "file_path": "force-app/main/default/lwc/apexImperativeMethod/"
    }
  },
  {
    "instance_id": "lwc-wire-001",
    "task_type": "LWC",
    "repo_url": "https://github.com/trailheadapps/lwc-recipes",
    "base_commit": "main",
    "problem_description": "The apexWireMethodToFunction component needs optimization. Currently, it makes redundant Apex calls when the component re-renders. Implement: 1) Caching of Apex results, 2) Debouncing for parameter changes, 3) Proper cleanup in disconnectedCallback. The solution must maintain reactive updates while minimizing server calls.",
    "validation": {
      "command": "npm run test:unit -- --testPathPattern=apexWireMethodToFunction",
      "expected_outcome": "0",
      "code_checks": [
        "caching_implemented",
        "debounce_logic",
        "cleanup_in_disconnectedCallback"
      ]
    },
    "timeouts": {
      "setup": 300,
      "run": 180
    },
    "metadata": {
      "difficulty": "hard",
      "category": "lwc",
      "subcategory": "wire-optimization",
      "verified_repo": true,
      "repo_stars": 2805,
      "file_path": "force-app/main/default/lwc/apexWireMethodToFunction/"
    }
  },
  {
    "instance_id": "flow-screen-component-001",
    "task_type": "FLOW",
    "repo_url": "https://github.com/trailheadapps/automation-components",
    "base_commit": "main",
    "problem_description": "Create a new Flow Screen Component in src-flows that allows users to perform multi-record selection with search and filtering capabilities. The component must: 1) Support both single and multi-select modes, 2) Implement server-side search for large datasets, 3) Expose output variables for selected record IDs, 4) Include accessibility compliance (WCAG 2.1 AA).",
    "validation": {
      "command": "sf project deploy start --source-dir src-flows --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "screen_component_created",
        "multi_select_support",
        "search_implemented",
        "output_variables_defined"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "hard",
      "category": "flow",
      "subcategory": "screen-components",
      "verified_repo": true,
      "repo_stars": 384,
      "file_path": "src-flows/main/default/lwc/"
    }
  },
  {
    "instance_id": "flow-invocable-action-001",
    "task_type": "FLOW",
    "repo_url": "https://github.com/trailheadapps/automation-components",
    "base_commit": "main",
    "problem_description": "Create an invocable Apex action that integrates with the existing automation components. The action should: 1) Accept a collection of record IDs as input, 2) Perform bulk DML operations with proper error handling, 3) Return detailed success/failure results for each record, 4) Support transaction control (allow partial commits vs. all-or-nothing). Include comprehensive unit tests with minimum 85% coverage.",
    "validation": {
      "command": "sf apex run test --test-level RunLocalTests --result-format json",
      "expected_outcome": "Passed",
      "code_checks": [
        "invocable_annotation",
        "bulk_support",
        "error_handling",
        "test_coverage_85"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "medium",
      "category": "flow",
      "subcategory": "invocable-actions",
      "verified_repo": true,
      "repo_stars": 384,
      "file_path": "src-flows/main/default/classes/"
    }
  },
  {
    "instance_id": "lightning-page-001",
    "task_type": "LIGHTNING_PAGE",
    "repo_url": "https://github.com/trailheadapps/dreamhouse-lwc",
    "base_commit": "main",
    "problem_description": "Update the Property_Record_Page.flexipage-meta.xml to implement Dynamic Forms. Convert the existing page to: 1) Use field sections instead of the standard detail component, 2) Add visibility rules to show/hide sections based on Property Status (Available, Contracted, Sold), 3) Include a custom action bar with relevant quick actions, 4) Optimize for both desktop and mobile views.",
    "validation": {
      "command": "sf project deploy start --source-dir force-app/main/default/flexipages --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "dynamic_forms_enabled",
        "visibility_rules_defined",
        "mobile_optimized"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "medium",
      "category": "lightning_page",
      "subcategory": "dynamic-forms",
      "verified_repo": true,
      "repo_stars": 469,
      "file_path": "force-app/main/default/flexipages/Property_Record_Page.flexipage-meta.xml"
    }
  },
  {
    "instance_id": "page-layout-001",
    "task_type": "PAGE_LAYOUT",
    "repo_url": "https://github.com/trailheadapps/dreamhouse-lwc",
    "base_commit": "main",
    "problem_description": "Redesign the Property__c-Property Layout.layout-meta.xml for improved user experience. Requirements: 1) Reorganize fields into logical sections (Property Details, Location, Pricing, Status), 2) Add all relevant related lists (Property Images, Favorites, Activities), 3) Configure compact layout for mobile, 4) Add custom links section with property map integration.",
    "validation": {
      "command": "sf project deploy start --source-dir force-app/main/default/layouts --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "sections_reorganized",
        "related_lists_added",
        "compact_layout_configured"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "easy",
      "category": "page_layout",
      "subcategory": "record-layout",
      "verified_repo": true,
      "repo_stars": 469,
      "file_path": "force-app/main/default/layouts/Property__c-Property Layout.layout-meta.xml"
    }
  },
  {
    "instance_id": "experience-cloud-001",
    "task_type": "COMMUNITY",
    "repo_url": "https://github.com/trailheadapps/ebikes-lwc",
    "base_commit": "main",
    "problem_description": "Enhance the E_Bikes1 Experience Cloud site with: 1) Custom landing page with featured products carousel, 2) Product category navigation using dynamic routing, 3) User profile page with order history, 4) Responsive design for mobile devices. Ensure all components work for guest and authenticated users with appropriate visibility rules.",
    "validation": {
      "command": "sf project deploy start --source-dir force-app/main/default/experiences --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "landing_page_created",
        "navigation_configured",
        "guest_access_configured",
        "responsive_design"
      ]
    },
    "timeouts": {
      "setup": 900,
      "run": 600
    },
    "metadata": {
      "difficulty": "hard",
      "category": "experience_cloud",
      "subcategory": "site-customization",
      "verified_repo": true,
      "repo_stars": 830,
      "file_path": "force-app/main/default/experiences/E_Bikes1/"
    }
  },
  {
    "instance_id": "architecture-001",
    "task_type": "ARCHITECTURE",
    "repo_url": "https://github.com/trailheadapps/dreamhouse-lwc",
    "base_commit": "main",
    "problem_description": "Design and implement a complete property inquiry management system: 1) Create Inquiry__c object with relationships to Property__c and Contact, 2) Implement Apex service layer for inquiry processing with status workflow, 3) Build LWC component for inquiry submission with validation, 4) Create automated notification flow for new inquiries, 5) Add sharing rules for broker visibility, 6) Implement unit and integration tests with minimum 80% coverage. Provide architecture documentation in README.",
    "validation": {
      "command": "sf project deploy start --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "object_created",
        "apex_service_implemented",
        "lwc_component_created",
        "flow_automation_created",
        "sharing_rules_configured",
        "test_coverage_80",
        "documentation_provided"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 900
    },
    "metadata": {
      "difficulty": "expert",
      "category": "architecture",
      "subcategory": "full-stack",
      "verified_repo": true,
      "repo_stars": 469
    }
  },
  {
    "instance_id": "deploy-validation-001",
    "task_type": "DEPLOY",
    "repo_url": "https://github.com/trailheadapps/ebikes-lwc",
    "base_commit": "main",
    "problem_description": "The deployment to a scratch org is failing due to dependency issues. Analyze the sfdx-project.json and metadata files to: 1) Identify and resolve circular dependencies, 2) Fix any missing field references in page layouts, 3) Correct permission set assignments, 4) Ensure all custom objects have proper relationships. The deployment must succeed without warnings.",
    "validation": {
      "command": "sf project deploy start --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "no_dependency_errors",
        "no_missing_references",
        "clean_deployment"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "medium",
      "category": "deployment",
      "subcategory": "troubleshooting",
      "verified_repo": true,
      "repo_stars": 830
    }
  },
  {
    "instance_id": "agentforce-001",
    "task_type": "ARCHITECTURE",
    "repo_url": "https://github.com/trailheadapps/agent-script-recipes",
    "base_commit": "main",
    "problem_description": "Create a new Agentforce script recipe that handles customer order inquiries. The script should: 1) Accept order number and customer email as inputs, 2) Query order status from a mock Order object, 3) Generate contextual responses based on order status (Pending, Shipped, Delivered, Cancelled), 4) Include error handling for invalid orders, 5) Follow Salesforce Agent script best practices. Include comprehensive documentation.",
    "validation": {
      "command": "sf project deploy start --dry-run --json",
      "expected_outcome": "Succeeded",
      "code_checks": [
        "agent_script_created",
        "input_parameters_defined",
        "contextual_responses",
        "error_handling",
        "documentation_provided"
      ]
    },
    "timeouts": {
      "setup": 600,
      "run": 300
    },
    "metadata": {
      "difficulty": "hard",
      "category": "agentforce",
      "subcategory": "agent-scripts",
      "verified_repo": true,
      "repo_stars": 53
    }
  }
]

